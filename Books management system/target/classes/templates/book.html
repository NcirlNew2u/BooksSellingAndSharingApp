<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>book Management System</title>
<link rel="shortcut icon" href="logo6.png">
  <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" 
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
    crossorigin="anonymous"> 

    <!-- Custom css file -->
     		<link rel="stylesheet" type="text/css" th:href="@{/main.css}">
     		<link rel="stylesheet" type="text/css" th:href="@{/book.css}">
     		
     <!-- Icon css file -->
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    	
	</head>
	<body> 
	
	
<br>
	
<!-- NavBar -->
	
 		<nav class="navbar navbar-expand-lg navbar-light shadow-5-strong">
  
  			
			<div class="container">
				<a class="btn btn-light my-2 my-sm-0 mr-1" type="submit"	 href="#" th:href="@{/}"><b><u>Busy Beez</u></b></a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
   					 <ul class="navbar-nav mx-auto">
     	 				<li class="nav-item active"> <a class="nav-link"type="submit" href="/" th:href="@{/}"><b>Home</b> </a></li>
       					<li class="nav-item active"> <a class="nav-link"type="submit" href="/" th:href="@{/book}"><b>Books</b> </a></li>
        				<li class="nav-item active"> <a class="nav-link"type="submit" href="/" th:href="@{/live}"><b>Live </b></a></li>
        				<li class="nav-item active"> <a class="nav-link"type="submit" href="/" th:href="@{/QA}"><b>FAQ</b> </a></li>
        				<li class="nav-item active"> <a class="nav-link"type="submit" href="/" th:href="@{/contact}"><b>Contact Us </b></a></li>
           		 	</ul>
    				 <form class="form-inline my-2 my-lg-0">
       				      <a class="btn btn-light my-2 my-sm-0" type="submit" href="/" th:href="@{/logout}"><b>Logout</b></a>
   					 </form>
 			 	</div>
 		 	</div>
		</nav>
  			
  <!-- End NavBar -->
 
 
 							<!-- ========================= TO TOP BUTTON ========================= -->		
		
		<div class="botton">
				<button id="btnScrollToTop">
					<i class="material-icons">arrow_upward</i>
				</button>
		</div>
		
		
 		<div class="container" align="center">
			<img th:src="@{/logo6.png}" width="100" height="100" class="d-inline-block align-top" alt=""/>
		</div>
  
  		<div class="container" align="right">
  				<form th:action="@{/book}">
  					Filter:
  					<input type="text" name="keyword" th:value="${keyword}" required />
  					&nbsp;
  					<input type="submit" value="Search" />
  					&nbsp;
  					<input type="button" value="Clear" onclick="clearFilter()"/>
  				</form>
  		</div>
    		
  <div class="container">
			Welcome <span sec:authentication="principal.username"> User</span>
	</div>
<br>
<br>
	<div class ="container">
		<div class = "row">
			<h2><b>Books List </b></h2>
		</div>
		
		<div class = "row">
			<div class = "col-lg-3">
				<a th:href = "@{/book/new}" class = "btn btn-primary btn-sm mb-3"> Add book</a>
			</div>
		</div>
	</div>
		
		
		
	<!-- books information in the page -->	
 	<div class="container" align="center"><h3><b><u>Books Information</u></b></h3></div>
 	
 	<div th:each = "book: ${book}">
	<section>
		<div class="product-description">
				<div class="main-info"><b>Title of the book: </b>
					<p class="sub-info" th:text = "${book.title}"></p>
				</div>
				<div class="main-info"><b>Author's name: </b>
					<p class="sub-info" th:text = "${book.author}"></p>
				</div>
				<div class="main-info"><b>Book Edition: </b>
					<p class="sub-info" th:text = "${book.edition}"></p>
				</div>
				<div class="main-info"><b> Description of the book: </b>
					<p class="sub-info" th:text = "${book.description}"></p>
				</div>
				<div class="main-info"><b>Price: </b>
					<p class="sub-info" th:text = "${book.price}"></p>
				</div>
				<div class="main-info"><b>Contact details: </b>
					<p class="sub-info"><a th:href = "'mailto:'+ ${book.email}">By email</a></p>
				</div>
			</div>	
			
			
	 		<div class="product-gallery">
					<img th:src="${book.data}" class="gallery-hightlight" alt="image" />
			</div>
		<br>	
		</section> 
		<div>
			<p align="center">
					
				<a th:href = "@{/book/edit/{id}(id=${book.id})}"
						 class = "btn btn-primary">Update</a>
						
				<a th:href = "@{/book/{id}(id=${book.id})}"
						 class = "btn btn-danger">Delete</a></p>
		</div>
			<div>
			
			<p align="center">________________________________________________________________________________</p>
			<br>
			<br>
			</div>
		</div>
	 

<!-- ========================= Footer ========================= -->
<br>
	<div class="footer">
		<i>Copyright &copy; 2022-23</i>.
	</div>	
	
<!-- ========================= script ========================= -->		
	
	<script type="text/javascript">
		function clearFilter(){
			window.location ='/book';
		}
	
		
		// This is the fuction for the scroll up button.

		const btnScrollToTop= document.querySelector("#btnScrollToTop");
		btnScrollToTop.addEventListener("click", function (){
		    window.scrollTo(0, 0);
		    });
		 
	
	</script>
</body>
</html>